<html>
  <head>

  </head>
  <body>
    <script>
      // const a = {
      //   name: 'john',
      //   age: 20,
      //   address: {
      //     city:'incheon',
      //     street:10
      //   }
      // }

      // console.log('a : ', a.name, a['age'], a.address.city, a.address.street);

      // //const b = Object.assign({}, a); ===> Shallow copy
      // //deep copy
      // const b = JSON.parse(JSON.stringify(a)); // ===> Deep copy
      // // JSON format의 문자열로 바꾸는 것이 stirngify()!
      // // 다른 컴퓨터로 전송하고 싶을 떄 위 방식을 사용
      // // parse를 통해 문자열로부터 분리했던 것에서 객체를 다시 만들어 냄
      // // JSON -> stringify <-> parse

      // // 이 후 b가 a를 참조하는 것이 아닌 하나의 객체로 만들어짐! 딥 카피
      
      // // primitive data type가 아닌 타입도 카피됨!

      // // JSON 방식 : 데이터를 A와 B가 주고받고 싶은데, B가 해석할 수 있게 문자열로 바꿔서 B가 수신 후 문자열로부터 객체를 만들어냄
      // // 그 문자열 표현 방식이 JSON
      // // Web server - Client data communication 시 사용
      // b.name = 'alice';
      // b.address.city = 'seoul';

      // console.log('after-----------');
      // console.log('a: ', a.name, a['age'], a.address.city, a.address.street);
      // console.log('b: ', b.name, b['age'], b.address.city, b.address.street);

      // 배열의 deep copy는?

      // shallow copy -> [...a]
      // const a = [1, 2, 3];
      // const b = [...a];

      // console.log(a, b);

      // const a = ['alice', 20, {city:'Incheon', street:10}];
      // console.log('before --------- ');
      // console.log(a[0], a[1], a[2].city, a[2].street);

      // const b = [...a];
      // b[0] = 'john';
      // b[1] = 20000;
      // b[2].city = 'seoul';
      // b[2].street = 55;

      // console.log('after --------');
      // console.log(a[0], a[1], a[2].city, a[2].street);
      // console.log(b[0], b[1], b[2].city, b[2].street);

      // 객체와 같이 obj는 공유됨!
      
      const a = ['alice', 20, {city:'Incheon', street:10}];
      console.log('before --------- ');
      console.log(a[0], a[1], a[2].city, a[2].street);

      console.log(JSON.stringify(a));
      // console.log(JSON.parse(a));
      const b = JSON.parse(JSON.stringify(a)); // deep copy!
      b[0] = 'john';
      b[1] = 20000;
      b[2].city = 'seoul';
      b[2].street = 55;

      console.log('after --------');
      console.log(a[0], a[1], a[2].city, a[2].street);
      console.log(b[0], b[1], b[2].city, b[2].street);

    </script>
  </body>
</html>